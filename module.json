Hooks.on("getChatLogEntryContext", (html, options) => {
  const deleteOption = options.find(o => o.name === "CHAT.Delete");

  if (deleteOption) {
    deleteOption.condition = li => {
      const messageId = li.data("messageId");
      const message = game.messages.get(messageId);

      // Apenas GM pode excluir
      return game.user.isGM;
    };
  }
});
